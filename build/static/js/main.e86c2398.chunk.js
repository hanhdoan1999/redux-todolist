(this.webpackJsonpshopping=this.webpackJsonpshopping||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(7),r=n.n(o),s=(n(19),n(20),n(3)),i=n(6),d=n(14),u=n(2),j={data:[],error:""},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FetchData":return Object(u.a)(Object(u.a)({},t),{},{data:e.data});case"FetchDelete":return console.log("delete task"),Object(u.a)(Object(u.a)({},t),{},{data:t.data.filter((function(t){return t.id!==e.data.id}))});case"FetchUpdateStatus":return console.log("update task"),Object(u.a)(Object(u.a)({},t),{},{data:t.data.map((function(t){return t.id===e.data.id?Object(u.a)(Object(u.a)({},t),{},{complete:e.data.complete}):t}))});case"FetchUpdateName":return console.log("update task"),Object(u.a)(Object(u.a)({},t),{},{data:t.data.map((function(t){return t.id===e.data.id?Object(u.a)(Object(u.a)({},t),{},{task:e.data.task}):t}))});case"AddTask":return Object(u.a)(Object(u.a)({},t),{},{data:[].concat(Object(d.a)(t.data),[e.data])});case"ERROR":return Object(u.a)(Object(u.a)({},t),{},{error:e.msg});default:return t}},h=Object(i.b)({taskReducer:l}),b=n(13),O=Object(i.c)(h,Object(i.a)(b.a)),f=n(1);var p=function(){return Object(f.jsx)("div",{className:"header",children:Object(f.jsx)("h2",{children:"Todo App"})})};var m=function(){return Object(f.jsx)("div",{className:"footer",children:"Footer"})},v=function(t,e){var n=Object(u.a)(Object(u.a)({},t),{},{task:e});return function(e){fetch("http://localhost:3001/todos/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){e({type:"FetchUpdateName",data:t})})).catch((function(t){return e({type:"ERROR",msg:"Unable to fetch data"})}))}},x=n(5),g=n(12);var y=function(t){var e=t.todo,n=Object(s.b)(),c=Object(a.useState)(e.task),o=Object(x.a)(c,2),r=o[0],i=o[1],d=Object(a.useState)(!0),j=Object(x.a)(d,2),l=j[0],h=j[1];return Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)("input",{type:"checkbox",name:"status",value:e.complete,onChange:function(){n(function(t){var e=Object(u.a)(Object(u.a)({},t),{},{complete:!t.complete});return function(n){fetch("http://localhost:3001/todos/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){n({type:"FetchUpdateStatus",data:t})})).catch((function(t){return n({type:"ERROR",msg:"Unable to fetch data"})}))}}(e))},checked:e.complete?"checked":"",disabled:l?"":"disabled"}),l?Object(f.jsx)("p",{onDoubleClick:function(){h(!1)},className:function(){var t="text truncate";return t+=e.complete?" strike":""}(),children:e.task}):Object(f.jsx)("input",{maxLength:"100",onBlur:function(){h(!0)},autoFocus:!0,type:"text",value:r,onChange:function(t){i(t.target.value)},onKeyDown:function(t){"Enter"!==t.key&&"Escape"!==t.key||(""===r?alert("Please enter name ! "):(n(v(e,r)),t.preventDefault(),t.stopPropagation(),h(!0)))}}),Object(f.jsx)("div",{className:"icon",children:l?Object(f.jsx)("div",{onClick:function(){var t;n((t=e,function(e){fetch("http://localhost:3001/todos/"+t.id,{method:"delete"}).then((function(){return e({type:"FetchDelete",data:t})})).catch((function(t){return e({type:"ERROR",msg:"Unable to fetch data"})}))}))},children:Object(f.jsx)(g.b,{})}):Object(f.jsx)("div",{onClick:function(){n(v(e,r)),h(!0)},children:Object(f.jsx)(g.a,{})})})]})};var k=function(t){t.TodoList,t.handleToggle,t.handleDelete,t.handelEdit;var e=Object(s.c)((function(t){return t.taskReducer.data})),n=Object(s.b)();return Object(a.useEffect)((function(){return n((function(t){return fetch("http://localhost:3001/todos").then((function(t){return t.json()})).then((function(e){return t({type:"FetchData",data:e})})).catch((function(e){return t({type:"ERROR",msg:"Unable to fetch data"})}))}))}),[]),Object(f.jsx)(f.Fragment,{children:e.map((function(t,e){return Object(f.jsx)(y,{todo:t,children:t.task},e)}))})};var R=function(){var t=Object(s.b)(),e=Object(a.useState)(""),n=Object(x.a)(e,2),c=n[0],o=n[1];return Object(f.jsx)("div",{className:"addTask",children:Object(f.jsxs)("form",{action:"",onSubmit:function(e){var n;e.preventDefault(),c?(t((n=c,function(t){fetch("http://localhost:3001/todos/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Date.now(),task:n,complete:!1})}).then((function(t){return t.json()})).then((function(e){return t({type:"AddTask",data:e})})).catch((function(e){return t({type:"ERROR",msg:"Unable to fetch data"})}))})),o("")):alert("Please add a text")},children:[Object(f.jsx)("input",{type:"text",placeholder:"Add task",value:c,onChange:function(t){return o(t.target.value)}}),Object(f.jsx)("input",{type:"submit",value:"Add",className:"btn"})]})})};var F=function(){return Object(f.jsx)(s.a,{store:O,children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"todo-app",children:[Object(f.jsx)(p,{}),Object(f.jsx)(R,{}),Object(f.jsx)("div",{className:"content",children:Object(f.jsx)(k,{})}),Object(f.jsx)(m,{})]})})})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),N()}},[[26,1,2]]]);
//# sourceMappingURL=main.e86c2398.chunk.js.map